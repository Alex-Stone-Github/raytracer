I have not programmed in c++ for years, so please forgive my c and rust influences on the code.
